# Golang GPM 模型

###CPU特征

- CPU 时间轮片最小执行单位是线程
- CPU 最小分配内存单元的是进程
- CPU 无法区分进程和线程

### 传统单核CPU

单进程时代的两个问题：

- 单一执行流程，计算机只能一个任务一个任务的去执行处理
- 进程阻塞带来的cpu浪费时间

多进程多线程的问题：

- 设计变得复杂
- 进程和线程的数量越多，切换的成本就越大，也就越浪费CPU
- 多线程 同步竞争 ，锁 竞争资源冲突等
- 进程占用内存 虚拟内存最小在4G
- 线程占用内存 最小为4M
- 高CPU调度消耗

### 协程（co-routine）引发的问题:

- N:1 无法利用多个CPU，出现阻塞的瓶颈
- 1:1 跟多线程/多进程 模型一样，切换协程成本代价昂贵
- M:N 能够利用多核，过于以来协程调度器的优化和算法


###  Goroutine 的优化
- 内存占用4kb ， 可以大量开辟
- 灵活调度     切换成本低
